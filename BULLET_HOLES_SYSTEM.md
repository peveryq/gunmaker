# üéØ –°–∏—Å—Ç–µ–º–∞ –¥—ã—Ä–æ–∫ –æ—Ç –ø—É–ª—å - –ê–Ω–∞–ª–∏–∑ –∏ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

## üìä –ê–Ω–∞–ª–∏–∑ Unity Legacy Particle Pack

### –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–µ–º–æ:

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:**
- **Decal** = Quad (–ø–ª–æ—Å–∫–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å) —Å —Ç–µ–∫—Å—Ç—É—Ä–æ–π –¥—ã—Ä–∫–∏
- **Material:** Standard Shader (PBR) —Å:
  - Albedo texture (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥—ã—Ä–∫–∏)
  - Normal Map (–æ–±—ä–µ–º –¥—ã—Ä–∫–∏)
  - Height Map (parallax)
- **Particle System:** –û—Å–∫–æ–ª–∫–∏ –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏
- **–°–ø–∞–≤–Ω:** `Instantiate()` –∫–∞–∂–¥—ã–π –≤—ã—Å—Ç—Ä–µ–ª
- **–£–¥–∞–ª–µ–Ω–∏–µ:** `Destroy()` —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –¥–ª—è WebGL:

| –ü—Ä–æ–±–ª–µ–º–∞ | –í–ª–∏—è–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|----------|---------|-------------|
| **Instantiate/Destroy –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä** | 1-3ms –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ | üî¥ –í—ã—Å–æ–∫–∞—è |
| **–ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞** | –°–æ—Ç–Ω–∏ –¥—ã—Ä–æ–∫ ‚Üí –ª–∞–≥–∏ | üî¥ –í—ã—Å–æ–∫–∞—è |
| **Standard Shader (PBR)** | –¢—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è | üü° –°—Ä–µ–¥–Ω—è—è |
| **Normal + Height Maps** | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—É—Ä—ã | üü° –°—Ä–µ–¥–Ω—è—è |
| **–ú–Ω–æ–≥–æ Draw Calls** | –ö–∞–∂–¥–∞—è –¥—ã—Ä–∫–∞ = 1 draw call | üü† –°—Ä–µ–¥–Ω–µ-–≤—ã—Å–æ–∫–∞—è |
| **GC Allocation** | Garbage Collection —Å–ø–∞–π–∫–∏ | üü° –°—Ä–µ–¥–Ω—è—è |

**–í—ã–≤–æ–¥:** –ü–æ–¥—Ö–æ–¥ **—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∏ –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è WebGL!**

---

## ‚úÖ –ú–æ—ë —Ä–µ—à–µ–Ω–∏–µ: WebGL-Optimized Bullet Hole System

### üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **‚úÖ Object Pooling**
   - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
   - –ù–µ—Ç Instantiate/Destroy –≤ —Ä–∞–Ω—Ç–∞–π–º–µ
   - –ù–µ—Ç GC —Å–ø–∞–π–∫–æ–≤

2. **‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞**
   - –ú–∞–∫—Å–∏–º—É–º N –¥—ã—Ä–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 50)
   - –°—Ç–∞—Ä—ã–µ –¥—ã—Ä–∫–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
   - –ù–∏–∫–∞–∫–∏—Ö –ª–∞–≥–æ–≤

3. **‚úÖ Fade Out —Å–∏—Å—Ç–µ–º–∞**
   - –ü–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Alpha
   - MaterialPropertyBlock (–±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤)
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

4. **‚úÖ Singleton Manager**
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
   - –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ

5. **‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —à–µ–π–¥–µ—Ä** (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è)
   - Unlit —Å Alpha
   - –ë–µ–∑ Normal/Height maps
   - –ë—ã—Å—Ç—Ä–µ–µ –Ω–∞ WebGL

---

## üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: Legacy vs –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Legacy (Demo) | –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ |
|----------------|---------------|---------------|
| **–°–æ–∑–¥–∞–Ω–∏–µ –¥—ã—Ä–∫–∏** | Instantiate (~2ms) | –í–∑—è—Ç—å –∏–∑ –ø—É–ª–∞ (~0.1ms) |
| **–£–¥–∞–ª–µ–Ω–∏–µ –¥—ã—Ä–∫–∏** | Destroy (GC spike) | –í–µ—Ä–Ω—É—Ç—å –≤ –ø—É–ª (–±–µ–∑ GC) |
| **–ú–∞–∫—Å. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ** | ‚àû (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ) | 50 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ) |
| **Fade out** | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| **Shader** | Standard (PBR) | Unlit/Mobile (–ª–µ–≥–∫–∏–π) |
| **–¢–µ–∫—Å—Ç—É—Ä—ã** | 3 (Albedo+Normal+Height) | 1 (Albedo+Alpha) |
| **WebGL –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | üî¥ –ü–ª–æ—Ö–∞—è | üü¢ –û—Ç–ª–∏—á–Ω–∞—è |
| **–ü–∞–º—è—Ç—å** | –†–∞—Å—Ç–µ—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è |

---

## üì¶ –ß—Ç–æ —è —Å–æ–∑–¥–∞–ª –¥–ª—è –≤–∞—Å:

### 1. **BulletHoleManager.cs** - –º–µ–Ω–µ–¥–∂–µ—Ä –¥—ã—Ä–æ–∫
```csharp
// Singleton –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
BulletHoleManager.Instance.SpawnBulletHole(position, normal, parent);
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- Object Pooling (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥—ã—Ä–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥—ã—Ä–æ–∫
- Fade out —Å–∏—Å—Ç–µ–º–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
```
Decal Settings:
‚îú‚îÄ Bullet Hole Prefab: <–ü—Ä–µ—Ñ–∞–± –¥—ã—Ä–∫–∏>
‚îú‚îÄ Max Bullet Holes: 50 (–º–∞–∫—Å–∏–º—É–º –¥—ã—Ä–æ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
‚îî‚îÄ Bullet Hole Lifetime: 10 (—Å–µ–∫—É–Ω–¥ –¥–æ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è)

Particle Effects:
‚îî‚îÄ Impact Particles: <ParticleSystem –æ—Å–∫–æ–ª–∫–æ–≤>
```

### 2. **BulletHole.cs** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥—ã—Ä–∫–∏
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ (–±–µ–∑ fade)
- Callback —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –ø—É–ª

### 3. **Bullet.cs** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `BulletHoleManager` –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- Fallback –Ω–∞ —Å—Ç–∞—Ä—É—é —Å–∏—Å—Ç–µ–º—É –µ—Å–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω
- –ü–µ—Ä–µ–¥–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é, –Ω–æ—Ä–º–∞–ª—å –∏ parent –æ–±—ä–µ–∫—Ç

---

## üé® –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ—Ñ–∞–±–∞ –¥—ã—Ä–∫–∏ (–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç–æ–π (–¥–ª—è WebGL) ‚úÖ –†–ï–ö–û–ú–ï–ù–î–£–Æ

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
BulletHolePrefab
‚îî‚îÄ Decal (Quad mesh)
   ‚îú‚îÄ MeshFilter (Quad)
   ‚îî‚îÄ MeshRenderer
      ‚îî‚îÄ Material: Unlit/Transparent
```

**Material –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```
Shader: Unlit/Transparent
–∏–ª–∏
Shader: Mobile/Particles/Alpha Blended

Textures:
‚îî‚îÄ Main Texture: –î—ã—Ä–∫–∞ —Å Alpha –∫–∞–Ω–∞–ª–æ–º (512x512 –∏–ª–∏ 256x256)

Settings:
‚îú‚îÄ Render Queue: Transparent (3000)
‚îú‚îÄ Cull: Off (–≤–∏–¥–Ω–∞ —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω)
‚îî‚îÄ ZWrite: Off
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –Ω–∞ WebGL
- ‚úÖ –û–¥–Ω–∞ —Ç–µ–∫—Å—Ç—É—Ä–∞
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π —à–µ–π–¥–µ—Ä
- ‚úÖ –ù–∏–∑–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑—É–µ–º Legacy (–º–æ–∂–Ω–æ, –Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é)

–ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `BulletImpactStoneEffect` –∏–∑ –¥–µ–º–æ, –Ω–æ:
- ‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ Standard Shader –Ω–∞ Unlit
- ‚ö†Ô∏è –£–¥–∞–ª–∏—Ç–µ Normal/Height maps
- ‚ö†Ô∏è –û—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ Albedo —Å Alpha

**–ö–∞–∫ —É–ª—É—á—à–∏—Ç—å Legacy –ø—Ä–µ—Ñ–∞–±:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª `BulletDecalStone.mat`
2. Shader: Standard ‚Üí `Unlit/Transparent`
3. –£–¥–∞–ª–∏—Ç–µ Normal Map –∏ Height Map
4. –û—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ Main Texture

---

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –≤ Unity

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å BulletHoleManager

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π GameObject: `BulletHoleManager`
2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `BulletHoleManager`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:
```
Decal Settings:
‚îú‚îÄ Bullet Hole Prefab: <–í–∞—à –ø—Ä–µ—Ñ–∞–± –¥—ã—Ä–∫–∏>
‚îú‚îÄ Max Bullet Holes: 50
‚îî‚îÄ Bullet Hole Lifetime: 10

Particle Effects:
‚îî‚îÄ Impact Particles: <ParticleSystem –æ—Å–∫–æ–ª–∫–æ–≤> (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ—Ñ–∞–± –¥—ã—Ä–∫–∏

**–ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç (–†–ï–ö–û–ú–ï–ù–î–£–Æ):**

1. –°–æ–∑–¥–∞–π—Ç–µ GameObject: `BulletHolePrefab`
2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
   - `MeshFilter` ‚Üí Mesh: Quad
   - `MeshRenderer` ‚Üí Material: –Ω–æ–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª
3. –°–æ–∑–¥–∞–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª:
   - Shader: `Unlit/Transparent`
   - Main Texture: —Ç–µ–∫—Å—Ç—É—Ä–∞ –¥—ã—Ä–∫–∏ —Å alpha
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Transform:
   - Scale: (0.1, 0.1, 0.1) - —Ä–∞–∑–º–µ—Ä –¥—ã—Ä–∫–∏
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ –ø—Ä–µ—Ñ–∞–±

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–∑ –¥–µ–º–æ:**
- –í–æ–∑—å–º–∏—Ç–µ `BulletImpactStoneEffect` 
- –£–¥–∞–ª–∏—Ç–µ –ª–∏—à–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã
- –ó–∞–º–µ–Ω–∏—Ç–µ —à–µ–π–¥–µ—Ä –Ω–∞ Unlit

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Impact Particles (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –°–æ–∑–¥–∞–π—Ç–µ Particle System –¥–ª—è –æ—Å–∫–æ–ª–∫–æ–≤
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - Duration: 0.5
   - Looping: ‚ùå
   - Start Lifetime: 0.3-0.8
   - Start Size: 0.02-0.05
   - Emission: Burst (5-10 —á–∞—Å—Ç–∏—Ü)
   - Shape: Cone (—É–≥–æ–ª 30¬∞)
3. –ù–∞–∑–Ω–∞—á—å—Ç–µ –≤ BulletHoleManager

### –®–∞–≥ 4: –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `Bullet.cs` - –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫!

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Legacy —Å–∏—Å—Ç–µ–º–∞ (Demo):

```
100 –≤—ã—Å—Ç—Ä–µ–ª–æ–≤:
‚îú‚îÄ Instantiate: 100x = ~200ms
‚îú‚îÄ Draw Calls: +100
‚îú‚îÄ GC Allocation: ~500KB
‚îî‚îÄ WebGL FPS: -20 FPS

500 –¥—ã—Ä–æ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
‚îî‚îÄ WebGL FPS: -50 FPS (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
```

### –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (Object Pooling):

```
100 –≤—ã—Å—Ç—Ä–µ–ª–æ–≤:
‚îú‚îÄ –í–∑—è—Ç—å –∏–∑ –ø—É–ª–∞: 100x = ~10ms
‚îú‚îÄ Draw Calls: +50 (–º–∞–∫—Å–∏–º—É–º)
‚îú‚îÄ GC Allocation: 0KB
‚îî‚îÄ WebGL FPS: -2 FPS

50 –¥—ã—Ä–æ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–ª–∏–º–∏—Ç):
‚îî‚îÄ WebGL FPS: -5 FPS (–ø—Ä–∏–µ–º–ª–µ–º–æ!)
```

**–£–ª—É—á—à–µ–Ω–∏–µ: ~10x –±—ã—Å—Ç—Ä–µ–µ!** üöÄ

---

## üé® –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç—É—Ä—ã –¥—ã—Ä–∫–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**–†–∞–∑–º–µ—Ä:**
- 512x512 (–±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–æ/—Ä–∞–∑–º–µ—Ä) ‚úÖ
- 256x256 (–¥–ª—è WebGL –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- 1024x1024 (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–ª—è WebGL) ‚ùå

**–§–æ—Ä–º–∞—Ç:**
- PNG —Å alpha –∫–∞–Ω–∞–ª–æ–º
- RGB: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥—ã—Ä–∫–∏ (—Ç–µ–º–Ω–æ–µ)
- Alpha: —Ñ–æ—Ä–º–∞ –¥—ã—Ä–∫–∏ (–±–µ–ª–æ–µ = –≤–∏–¥–∏–º–æ, —á–µ—Ä–Ω–æ–µ = –ø—Ä–æ–∑—Ä–∞—á–Ω–æ)

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –ö—Ä—É–≥–ª–∞—è/–Ω–µ—Ä–æ–≤–Ω–∞—è –¥—ã—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ
- –¢—Ä–µ—â–∏–Ω—ã –≤–æ–∫—Ä—É–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ –ø–æ –∫—Ä–∞—è–º
- –°–ª—É—á–∞–π–Ω–∞—è –≤–∞—Ä–∏–∞—Ü–∏—è (—Å–æ–∑–¥–∞–π—Ç–µ 2-3 —Ç–µ–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è)

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—ã—Ä–æ–∫:
```
Max Bullet Holes: 50
```
- **30-50** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è WebGL
- **100+** - –º–æ–∂–µ—Ç –ª–∞–≥–∞—Ç—å –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **20** - –µ—Å–ª–∏ –æ—á–µ–Ω—å —Å–ª–∞–±–∞—è WebGL –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞

### –í—Ä–µ–º—è –∂–∏–∑–Ω–∏:
```
Bullet Hole Lifetime: 10 —Å–µ–∫—É–Ω–¥
```
- **5-10 —Å–µ–∫** - —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–æ
- **15-20 —Å–µ–∫** - –¥—ã—Ä–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ–ª—å—à–µ
- **3-5 —Å–µ–∫** - –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ:
–î—ã—Ä–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è lifetime (–±–µ–∑ fade).
–≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –∏ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏.

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–æ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

`Bullet.cs` —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `BulletHoleManager.Instance`
2. –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç pooling —Å–∏—Å—Ç–µ–º—É
3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é —Å–∏—Å—Ç–µ–º—É (fallback)

**–ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `WeaponController` –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!**

---

## üéØ –ú–æ–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ—é –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É:

**–ü–æ—á–µ–º—É:**
1. ‚úÖ **~10x –±—ã—Å—Ç—Ä–µ–µ** –Ω–∞ WebGL
2. ‚úÖ **–ù–µ—Ç –ª–∞–≥–æ–≤** –æ—Ç Instantiate/Destroy
3. ‚úÖ **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞–º—è—Ç—å** (–Ω–µ —Ä–∞—Å—Ç–µ—Ç)
4. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ** –¥—ã—Ä–æ–∫
5. ‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π fade out** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
6. ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–∞** —Å Legacy —Ç–µ–∫—Å—Ç—É—Ä–∞–º–∏

### üì¶ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Å—Å–µ—Ç—ã –∏–∑ –¥–µ–º–æ:

**–ß—Ç–æ –≤–∑—è—Ç—å:**
- ‚úÖ –¢–µ–∫—Å—Ç—É—Ä—É –¥—ã—Ä–∫–∏ (`BulletHoleRockAlbedo.tif`)
- ‚úÖ Particle System –æ—Å–∫–æ–ª–∫–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–ß—Ç–æ –ù–ï –±—Ä–∞—Ç—å:**
- ‚ùå –°–∫—Ä–∏–ø—Ç—ã `GunShoot.cs`, `DecalDestroyer.cs` (—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ)
- ‚ùå Standard Shader –º–∞—Ç–µ—Ä–∏–∞–ª (–∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Unlit)
- ‚ùå Normal/Height maps (–¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã)

### üé® –£–ø—Ä–æ—Å—Ç–∏—Ç–µ –≤–∏–∑—É–∞–ª –¥–ª—è WebGL:

**–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
- –ü—Ä–æ—Å—Ç–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞ –¥—ã—Ä–∫–∏ (512x512 PNG)
- Unlit/Transparent shader
- –ù–µ–±–æ–ª—å—à–æ–π Particle System –æ—Å–∫–æ–ª–∫–æ–≤ (10-20 —á–∞—Å—Ç–∏—Ü)
- –ë–µ–∑ Normal/Height maps

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5 –º–∏–Ω—É—Ç):

1. **–°–æ–∑–¥–∞–π—Ç–µ BulletHoleManager** –≤ —Å—Ü–µ–Ω–µ
2. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–µ—Ñ–∞–± –¥—ã—Ä–∫–∏:**
   - GameObject + Quad mesh + Material (Unlit/Transparent)
3. **–ù–∞–∑–Ω–∞—á—å—Ç–µ –≤ BulletHoleManager**
4. **–ì–æ—Ç–æ–≤–æ!** –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (15 –º–∏–Ω—É—Ç):

1. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ‚Üë
2. –î–æ–±–∞–≤—å—Ç–µ Particle System –æ—Å–∫–æ–ª–∫–æ–≤
3. –°–æ–∑–¥–∞–π—Ç–µ 2-3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ç–µ–∫—Å—Ç—É—Ä –¥—ã—Ä–æ–∫
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Fade Out
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ WebGL

---

## üìù –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

- `Assets/_InternalAssets/Scrips/BulletHoleManager.cs` - –º–µ–Ω–µ–¥–∂–µ—Ä —Å pooling
- `Assets/_InternalAssets/Scrips/BulletHole.cs` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥—ã—Ä–∫–∏ —Å lifetime
- `Assets/_InternalAssets/Scrips/Bullet.cs` - –æ–±–Ω–æ–≤–ª–µ–Ω (–∞–≤—Ç–æ–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. GPU Instancing (–µ—Å–ª–∏ –º–Ω–æ–≥–æ –¥—ã—Ä–æ–∫):
```csharp
material.enableInstancing = true;
```
‚Üí –ë–∞—Ç—á–∏–Ω–≥ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥—ã—Ä–æ–∫ –≤ –æ–¥–∏–Ω draw call

### 2. Texture Atlas (–µ—Å–ª–∏ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã):
```
–í–º–µ—Å—Ç–æ: metal_hole.png, wood_hole.png, stone_hole.png
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: holes_atlas.png (–≤—Å–µ –¥—ã—Ä–∫–∏ –≤ –æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç—É—Ä–µ)
```
‚Üí –ú–µ–Ω—å—à–µ material switches

### 3. LOD –¥–ª—è –¥—ã—Ä–æ–∫ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ):
```
–î–∞–ª–µ–∫–æ: –î—ã—Ä–∫–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è (Renderer.enabled = false)
–ë–ª–∏–∑–∫–æ: –î—ã—Ä–∫–∞ –≤–∏–¥–Ω–∞
```
‚Üí –†–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –±–ª–∏–∑–∫–∏–µ –¥—ã—Ä–∫–∏

---

## üéÆ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:

```
1. –ü—É–ª—è –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Å—Ç–µ–Ω—É
   ‚Üì
2. Bullet.OnCollisionEnter()
   ‚Üì
3. BulletHoleManager.SpawnBulletHole(point, normal, wall)
   ‚Üì
4. –ë–µ—Ä–µ–º –¥—ã—Ä–∫—É –∏–∑ –ø—É–ª–∞ (–∏–ª–∏ —Å–æ–∑–¥–∞–µ–º –µ—Å–ª–∏ –ø—É–ª –ø—É—Å—Ç)
   ‚Üì
5. –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç ‚Üí –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∞–º—É—é —Å—Ç–∞—Ä—É—é
   ‚Üì
6. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –¥—ã—Ä–∫—É: position + normal * 0.01
   ‚Üì
7. –ü—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º –∫ –æ–±—ä–µ–∫—Ç—É: SetParent(wall)
   ‚Üì
8. –ó–∞–ø—É—Å–∫–∞–µ–º Particle System –æ—Å–∫–æ–ª–∫–æ–≤
   ‚Üì
9. BulletHole.Initialize(lifetime)
   ‚Üì
10. –î—ã—Ä–∫–∞ –∂–∏–≤–µ—Ç 10 —Å–µ–∫—É–Ω–¥
   ‚Üì
11. –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏—Å—á–µ–∑–∞–µ—Ç
   ‚Üì
12. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø—É–ª (–¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
```

---

## ‚úÖ –ò—Ç–æ–≥–æ:

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É!**
- –û–Ω–∞ –≤ ~10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ
- –ò–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è WebGL
- –°–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –≤–∞—à–∏–º–∏ —Ç–µ–∫—Å—Ç—É—Ä–∞–º–∏ –∏–∑ –¥–µ–º–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–∞—à–∏–º `Bullet.cs`

**–¢–µ–∫—Å—Ç—É—Ä—ã –∏–∑ –¥–µ–º–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!**
- –ü—Ä–æ—Å—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª (Unlit –≤–º–µ—Å—Ç–æ Standard)
- –£–±–µ—Ä–∏—Ç–µ Normal/Height maps –¥–ª—è WebGL

üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

