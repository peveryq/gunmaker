# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ —Å —Ç–∏–ø–æ–º –¥–µ—Ç–∞–ª–∏ (PartType)

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º:**
- –í—Å–µ –¥–µ—Ç–∞–ª–∏, –∫—É–ø–ª–µ–Ω–Ω—ã–µ –≤ –º–∞–≥–∞–∑–∏–Ω–µ, –∏–º–µ—é—Ç —Ç–∏–ø `Barrel`
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ù–æ —Ç–∏–ø –¥–µ—Ç–∞–ª–∏ –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–º –ø—Ä–µ—Ñ–∞–±–µ

**–ü—Ä–∏—á–∏–Ω–∞:**
–ü—Ä–∏ —Å–ø–∞–≤–Ω–µ –¥–µ—Ç–∞–ª–∏ –º—ã –ø—Ä–∏–º–µ–Ω—è–ª–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –Ω–æ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ `partType` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `WeaponPart`.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ PartSpawner.cs

#### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ SpawnPart:

**–ë—ã–ª–æ:**
```csharp
public GameObject SpawnPart(
    GameObject universalPrefab, 
    Mesh partMesh, 
    Dictionary<StatInfluence.StatType, float> stats
)
```

**–°—Ç–∞–ª–æ:**
```csharp
public GameObject SpawnPart(
    GameObject universalPrefab, 
    Mesh partMesh, 
    PartType partType,  // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä!
    Dictionary<StatInfluence.StatType, float> stats
)
```

#### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ partType:

**–ù–æ–≤—ã–π –∫–æ–¥:**
```csharp
// Apply stats and part type to WeaponPart component
WeaponPart weaponPart = spawnedPart.GetComponent<WeaponPart>();
if (weaponPart != null)
{
    // Set part type ‚Üê –ù–û–í–û–ï!
    weaponPart.partType = partType;
    
    // Apply stats
    if (stats != null)
    {
        ApplyStats(weaponPart, stats);
    }
}
```

---

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ PurchaseConfirmationUI.cs

#### –û–±–Ω–æ–≤–ª–µ–Ω –≤—ã–∑–æ–≤ SpawnPart:

**–ë—ã–ª–æ:**
```csharp
PartSpawner.Instance.SpawnPart(
    universalPrefab, 
    currentOffering.partMesh, 
    stats
);
```

**–°—Ç–∞–ª–æ:**
```csharp
PartSpawner.Instance.SpawnPart(
    universalPrefab, 
    currentOffering.partMesh, 
    currentPartType,  // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω –∞—Ä–≥—É–º–µ–Ω—Ç!
    stats
);
```

---

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:

```
1. –ò–≥—Ä–æ–∫ –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –ø–ª–∏—Ç–∫—É –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "Magazines"
   ‚Üì
2. PurchaseConfirmationUI –∑–Ω–∞–µ—Ç currentPartType = PartType.Magazine
   ‚Üì
3. –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:
   PartSpawner.SpawnPart(..., currentPartType, ...)
   ‚Üì
4. PartSpawner —Å–æ–∑–¥–∞–µ—Ç –¥–µ—Ç–∞–ª—å –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç:
   weaponPart.partType = partType  // = Magazine
   ‚Üì
5. –î–µ—Ç–∞–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø!
```

### –ü—Ä–∏–º–µ—Ä:

**–ü–æ–∫—É–ø–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞:**
```
currentPartType = PartType.Magazine
‚Üì
weaponPart.partType = PartType.Magazine ‚úÖ
```

**–ü–æ–∫—É–ø–∫–∞ –ø—Ä–∏—Ü–µ–ª–∞:**
```
currentPartType = PartType.Scope
‚Üì
weaponPart.partType = PartType.Scope ‚úÖ
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –¢–µ—Å—Ç 1: –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–µ—Ç–∞–ª–µ–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ –º–∞–≥–∞–∑–∏–Ω
2. –ö—É–ø–∏—Ç–µ **Barrel** (—Å—Ç–≤–æ–ª)
3. –ü–æ–¥–Ω–∏–º–∏—Ç–µ –¥–µ—Ç–∞–ª—å
4. –í Inspector ‚Üí WeaponPart ‚Üí Part Type = **Barrel** ‚úÖ

5. –ö—É–ø–∏—Ç–µ **Magazine** (–º–∞–≥–∞–∑–∏–Ω)
6. –ü–æ–¥–Ω–∏–º–∏—Ç–µ –¥–µ—Ç–∞–ª—å
7. –í Inspector ‚Üí WeaponPart ‚Üí Part Type = **Magazine** ‚úÖ

8. –ö—É–ø–∏—Ç–µ **Scope** (–ø—Ä–∏—Ü–µ–ª)
9. –ü–æ–¥–Ω–∏–º–∏—Ç–µ –¥–µ—Ç–∞–ª—å
10. –í Inspector ‚Üí WeaponPart ‚Üí Part Type = **Scope** ‚úÖ

### –¢–µ—Å—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –æ—Ä—É–∂–∏–µ

1. –ö—É–ø–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π
2. –ü–æ–¥–æ–π–¥–∏—Ç–µ –∫ –≤–µ—Ä—Å—Ç–∞–∫—É
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ—Ä—É–∂–∏–µ
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∂–¥—É—é –¥–µ—Ç–∞–ª—å
5. ‚úÖ Barrel —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–ª–æ—Ç Barrel
6. ‚úÖ Magazine —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–ª–æ—Ç Magazine
7. ‚úÖ –∏ —Ç.–¥.

**–ï—Å–ª–∏ —Ç–∏–ø –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:**
- –î–µ—Ç–∞–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ª–æ—Ç
- –ú–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–µ —Ç—É–¥–∞ (–µ—Å–ª–∏ –±—ã–ª —Ç–∏–ø Barrel)

---

## üìä –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

| –ê—Å–ø–µ–∫—Ç | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|--------|----------------|-------------------|
| **Part Type** | –í—Å–µ–≥–¥–∞ Barrel | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| **Barrel** | Barrel ‚úÖ | Barrel ‚úÖ |
| **Magazine** | Barrel ‚ùå | Magazine ‚úÖ |
| **Stock** | Barrel ‚ùå | Stock ‚úÖ |
| **Scope** | Barrel ‚ùå | Scope ‚úÖ |
| **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏** | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ ‚úÖ | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ ‚úÖ |
| **–ú–µ—à** | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π ‚úÖ | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π ‚úÖ |

---

## üîç –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

### –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–í–µ—Ä—Å—Ç–∞–∫:**
   - –î–µ—Ç–∞–ª—å —Å —Ç–∏–ø–æ–º Barrel –ø—ã—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –≤ —Å–ª–æ—Ç Barrel
   - –î–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ Magazine
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

2. **–°–∏—Å—Ç–µ–º–∞ WeaponBody:**
   - WeaponBody.InstallPart() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø –¥–µ—Ç–∞–ª–∏
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø ‚Üí –¥–µ—Ç–∞–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ —Ç—É–¥–∞

3. **–õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã:**
   - –ú–∞–≥–∞–∑–∏–Ω —Å —Ç–∏–ø–æ–º Barrel –Ω–µ –º–µ–Ω—è–µ—Ç ammo
   - –ü—Ä–∏—Ü–µ–ª —Å —Ç–∏–ø–æ–º Barrel –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ zoom
   - –ò —Ç.–¥.

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. PartSpawner.cs
**–°—Ç—Ä–æ–∫–∏:** 56 (—Å–∏–≥–Ω–∞—Ç—É—Ä–∞), 97-98 (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∏–ø–∞)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `PartType partType`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `weaponPart.partType = partType`

### 2. PurchaseConfirmationUI.cs
**–°—Ç—Ä–æ–∫–∞:** 323 (–≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∞—Ä–≥—É–º–µ–Ω—Ç `currentPartType` –≤ –≤—ã–∑–æ–≤ SpawnPart

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ Barrel ‚Üí partType = Barrel
- ‚úÖ Magazine ‚Üí partType = Magazine
- ‚úÖ Stock ‚Üí partType = Stock
- ‚úÖ Scope ‚Üí partType = Scope
- ‚úÖ –î–µ—Ç–∞–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Ä—É–∂–∏–µ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ WeaponBody —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–ª–æ—Ç–∞–º

**–ë–∞–≥ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω! üéâ**

---

## üí° –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–µ—Ç–∞–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, Lasers, Foregrips):
1. –î–æ–±–∞–≤—å—Ç–µ —Ç–∏–ø –≤ enum `PartType`
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ ShopPartConfig
3. PartSpawner –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø!

–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

